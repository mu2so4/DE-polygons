# Теоретико-множественные операции над многоугольниками
Выполнено Муратовым Максимом.

Здесь представлена программа на языке Python, которая реализует теоретико-множественные операции над многоугольниками при помощи библиотек `matplotlib`, `geopandas` и `shapely`. Ввод-вывод осуществляется через текстовые файлы.

## Подготовка
Перед началом работы в папке с исходным кодом выполните команду
```shell
pip3 install -r requirements.txt
```

## Ввод
Для работы программы необходимы 2 текстовых файла, в которых записаны координаты вершин многоугольников в порядке их обхода: каждая координата на отдельной строке, координаты внутри строки разделены табуляцией. Многоугольники не обязаны быть выпуклыми. Дальше обозначим их как **A** и **B**.

Для запуска программы необходимо передать названия файлов в аргументы командной строки, например:
```shell
python3 main.py tests/1.txt tests/2.txt
```
## Вывод

Наложение многоугольников сохраняется в файле `initial_position.png`.

Для каждой из операций **(A &cup; B)**, **(A &cap; B)**, **(A \ B)** и **(B \ A)**  выполняется это:
1. Выполняется соответствующая операция над множествами;
2. График полученной фигуры сохраняется в файл, название которого говорит, что именно было совершено;
3. В CSV файл записывются координаты фигуры следующим образом. Сначала указывается тип фигуры. Дальше, в зависимости от типа:
    1. Если это "EMPTY POLYGON", что могло получиться в ходе пересечения непересекающихся многоугольников или разности, где первый многоугольник внутри второго, то больше ничего не выводится;
    2. Если это "POLYGON", то в каждой следующей строке выписываются координаты вершин по ходу их обхода. При этом последняя вершина совпадает с первой;
    3. Если это "POLYGON WITH HOLES", то делается то же, что и для "POLYGON", а также дополнительно обходятся вершины всех многоугольников, которые являются "дырками" данного. Каждая часть начинается со строки "hole";
    4. Если это "MULTIPOLYGON", то сначала указывается количество составных частей (многоугольников), а затем для каждой из них выводятся координаты вершин согласно пп. ii и iii.
